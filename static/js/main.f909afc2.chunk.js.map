{"version":3,"sources":["components/comment.js","actions.js","components/commentsList.js","components/post.js","components/postList.js","api/loadApi.js","App.js","index.js","reducer.js"],"names":["mapDispatchToProps","removeComment","id","type","connect","state","posts","_ref","title","body","email","react_default","a","createElement","className","onClick","Delete_default","href","CommentsList","comments","map","comment","components_comment","key","name","deleteSinglePost","userName","address","DeleteForever_default","commentsList","useStyles","makeStyles","theme","margin","spacing","extendedIcon","marginRight","loadingData","dispatch","_ref2","postsFromServer","usersFromServer","commentsFromServer","regenerator_default","async","_context","prev","next","awrap","Promise","all","fetch","then","response","json","catch","sent","Object","slicedToArray","post","objectSpread2","user","find","person","userId","filter","postId","stop","isLoaded","loading","classes","components_post","concat","city","street","Fragment","Button","variant","color","size","App","postList","store","createStore","action","applyMiddleware","thunk","ReactDOM","render","react_redux_es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f909afc2.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { deleteComment } from '../actions';\n\nconst SingleComment = ({ title, body, email, id, removeComment }) => (\n  <section className=\"comment\">\n    <h4 className=\"comment__header\">\n      <button\n        className=\"post__delete\"\n        type=\"button\"\n        onClick={() => removeComment(id)}\n      >\n        <DeleteIcon />\n      </button>\n      {title}\n    </h4>\n    <article>{body}</article>\n    <a\n      className=\"comment__email\"\n      href=\"/#\"\n    >\n      {email}\n    </a>\n\n  </section>\n);\n\nconst mapStateToProps = state => ({\n  posts: state.posts,\n});\n\nconst mapDispatchToProps = {\n  removeComment: deleteComment,\n};\n\nSingleComment.propTypes = {\n  title: PropTypes.string.isRequired,\n  body: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n  removeComment: PropTypes.func.isRequired,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SingleComment);\n","import { getPosts, getUsers, getComments } from './api/loadApi';\n\nexport const START_LOADING = 'START_LOADING';\nexport const HANDLE_SUCCESS = 'HANDLE_SUCCESS';\nexport const DELETE_POST = 'DELETE_POST';\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\nexport const LOADING = 'LOADING';\n\nconst startLoading = () => ({ type: START_LOADING });\nconst loadingProcess = () => ({ type: LOADING });\nconst handleSuccess = posts => ({\n  type: HANDLE_SUCCESS, posts,\n});\n\nexport const loadPosts = () => async(dispatch) => {\n  dispatch(loadingProcess());\n\n  const [\n    postsFromServer,\n    usersFromServer,\n    commentsFromServer,\n  ] = await Promise.all([\n    getPosts(),\n    getUsers(),\n    getComments(),\n  ]);\n\n  dispatch(handleSuccess(postsFromServer.map(post => (\n    {\n      ...post,\n      user: usersFromServer.find(person => person.id === post.userId),\n      comments: commentsFromServer\n        .filter(comment => comment.postId === post.id),\n    }))));\n\n  dispatch(startLoading());\n};\n\nexport const deletePost = id => ({\n  type: DELETE_POST, id,\n});\n\nexport const deleteComment = id => ({\n  type: DELETE_COMMENT, id,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SingleComment from './comment';\n\nconst CommentsList = ({ comments }) => (\n  <article>\n    <h3>Comments:</h3>\n    {comments.map(comment => (\n      <SingleComment\n        key={comment.id}\n        id={comment.id}\n        title={comment.name}\n        body={comment.body}\n        email={comment.email}\n      />\n    ))}\n  </article>\n);\n\nCommentsList.propTypes = {\n  comments: PropTypes.arrayOf(PropTypes.shape({\n    body: PropTypes.string,\n    email: PropTypes.string,\n    id: PropTypes.number,\n    name: PropTypes.string,\n    postId: PropTypes.number,\n  })).isRequired,\n};\n\nexport default CommentsList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport CommentsList from './commentsList';\nimport { deletePost } from '../actions';\n\nconst Post = ({\n  id,\n  title,\n  body,\n  userName,\n  email,\n  address,\n  comments,\n  deleteSinglePost,\n}) => (\n  <article className=\"post\">\n    <h2 className=\"post__title\">\n      <button\n        type=\"button\"\n        className=\"post__delete\"\n        onClick={() => deleteSinglePost(id)}\n      >\n        <DeleteForeverIcon />\n      </button>\n      {title}\n    </h2>\n    <p className=\"post__body\">{body}</p>\n    <p className=\"post__user\">\n      Author:\n      {userName}\n    </p>\n    <address className=\"post__address\">{address}</address>\n    <a className=\"post__email\" href=\"/#\">{email}</a>\n    <div className=\"post__comments\">\n      <CommentsList comments={comments} />\n    </div>\n  </article>\n);\n\nconst mapStateToProps = state => ({\n  posts: state.posts,\n});\n\nconst mapDispatchToProps = {\n  deleteSinglePost: deletePost,\n};\n\nPost.propTypes = {\n  body: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n  userName: PropTypes.string.isRequired,\n  comments: PropTypes.arrayOf(PropTypes.shape({\n    body: PropTypes.string,\n    email: PropTypes.string,\n    id: PropTypes.number,\n    name: PropTypes.string,\n    postId: PropTypes.number,\n  })).isRequired,\n  address: PropTypes.string.isRequired,\n  deleteSinglePost: PropTypes.func.isRequired,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Post);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { loadPosts } from '../actions';\nimport Post from './post';\n\nconst useStyles = makeStyles(theme => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n}));\n\nconst PostList = ({ isLoaded, loading, loadingData, posts }) => {\n  const loadData = async() => {\n    await loadingData();\n  };\n\n  const classes = useStyles();\n\n  return (\n    <div>\n      { isLoaded\n        ? (\n          <section className=\"main\">\n            {posts.map(post => (\n              <Post\n                key={post.id}\n                id={post.id}\n                title={post.title}\n                body={post.body}\n                userName={post.user.name}\n                email={post.user.email}\n                address={`${post.user.address.city}, \n                ${post.user.address.street}`}\n                comments={post.comments}\n              />\n            ))}\n          </section>\n        ) : (\n          <div className=\"load\">\n            { loading ? (\n              <>\n                <div className=\"loadingio-spinner-double-ring-9q7pnd89ma7\">\n                  <div className=\"ldio-825x8t7zp7o\">\n                    <div />\n                    <div />\n                    <div>\n                      <div />\n                    </div>\n                    <div>\n                      <div />\n                    </div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <Button\n                variant=\"outlined\"\n                color=\"secondary\"\n                size=\"large\"\n                className={classes.margin}\n                onClick={loadData}\n              >\n                Load\n              </Button>\n\n            )}\n          </div>\n        )}\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  posts: state.posts,\n  isLoaded: state.isLoaded,\n  loading: state.loading,\n});\n\nconst mapDispatchToProps = {\n  loadingData: loadPosts,\n};\n\nPostList.propTypes = {\n  isLoaded: PropTypes.bool.isRequired,\n  loading: PropTypes.bool.isRequired,\n  loadingData: PropTypes.func.isRequired,\n  posts: PropTypes.arrayOf(PropTypes.shape({\n    body: PropTypes.string.isRequired,\n    comments: PropTypes.arrayOf(PropTypes.object),\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    user: PropTypes.objectOf(PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n      PropTypes.object,\n    ])),\n  })).isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostList);\n","// eslint-disable-next-line max-len\nexport const getPosts = () => fetch('https://jsonplaceholder.typicode.com/posts')\n  .then(response => response.json())\n  .catch(() => 'Something went wrong');\n\n// eslint-disable-next-line max-len\nexport const getUsers = () => fetch('https://jsonplaceholder.typicode.com/users')\n  .then(response => response.json())\n  .catch(() => 'Something went wrong');\n\n// eslint-disable-next-line max-len\nexport const getComments = () => fetch('https://jsonplaceholder.typicode.com/comments')\n  .then(response => response.json())\n  .catch(() => 'Something went wrong');\n","import React from 'react';\nimport './App.css';\nimport PostList from './components/postList';\n\nfunction App() {\n  return (\n    <section>\n      <PostList />\n    </section>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport thunk from 'redux-thunk';\nimport { createStore, applyMiddleware } from 'redux';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport { reducer } from './reducer';\n\nconst store = createStore(reducer, {\n  isLoaded: false,\n  loading: false,\n  posts: [],\n}, applyMiddleware(thunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n  , document.getElementById('root')\n);\n","import { START_LOADING,\n  HANDLE_SUCCESS,\n  DELETE_POST,\n  DELETE_COMMENT,\n  LOADING } from './actions';\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case START_LOADING:\n      return {\n        ...state,\n        isLoaded: true,\n      };\n    case LOADING:\n      return {\n        ...state,\n        loading: true,\n      };\n    case HANDLE_SUCCESS:\n      return {\n        ...state,\n        posts: action.posts,\n      };\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter(post => post.id !== action.id),\n      };\n    case DELETE_COMMENT:\n      return {\n        ...state,\n        posts: state.posts.map(post => (\n          {\n            ...post,\n            comments: post.comments.filter(comment => comment.id !== action.id),\n          })),\n      };\n    default:\n      return state;\n  }\n};\n"],"sourceRoot":""}